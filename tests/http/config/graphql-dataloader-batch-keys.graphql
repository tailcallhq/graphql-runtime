schema
  @server(port: 8001, graphiql: true, queryValidation: false, hostname: "0.0.0.0")
  @upstream(baseURL: "http://upstream/graphql", httpCache: true, batch: {delay: 1}) {
  query: Query
}

type Query {
  a: [A] @graphql(name: "posts")
}

type A {
  id: Int!
  bid: Int!
  cid: Int!
  b: B @graphql(name: "b", args: [{key: "id", value: "{{value.bid}}"}], batch: true)
  c: C @graphql(name: "c", args: [{key: "id", value: "{{value.cid}}"}], batch: true)
}

type C {
  id: Int!
  x: String!
}

type B {
  id: Int!
  y: String!
}
